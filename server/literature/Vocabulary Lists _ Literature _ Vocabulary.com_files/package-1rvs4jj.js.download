Module.define("vcom/units/assignments","nativefromtodatetime nativedatepicker params date jquery vcom/api".split(" "),function(){var u=jQuery,y={p:{code:"p",name:"Practice",article:""},s:{code:"s",name:"Spelling Bee",article:"a "},q:{code:"q",name:"Quiz",article:"a "},w:{code:"w",name:"Paper Quiz",article:"a "},j:{code:"j",name:"Vocabulary Jam",article:"a "}},A=u('meta[name\x3d"vocab:unit:id"]').attr("content"),C=u('meta[name\x3d"vocab:unit:slug"]').attr("content"),F=modules.vcom.api.remote("/units/"+
A,{cache:"default"}),G=modules.nativefromtodatetime;jQuery(function(n){function l(a){if(null==b||a)b=F.then(function(a){var b=a.unit.items.filter(function(a){return"list"==a.type});return n.post("/lists/assignments.json",{listids:b.map(function(a){return a.id})},function(e){e.lists=b;e.unit=a.unit})});return b}function w(a){v.find(".slide.selected").removeClass("selected").addClass("prev").nextAll(a||".slide.ondeck").first().addClass("selected").removeClass("ondeck").trigger("slide-show")}function u(){var a=
n('\x3cdiv class\x3d"slide assignmenttype selected" data-name\x3d"assignmenttype"\x3e\x3c/div\x3e').on("reset",function(){a.find("form")[0].reset();delete modules.params.parse().type}).appendTo(v);n('\x3cform\x3e\x3cdiv class\x3d"field activities"\x3e\n\t\t\t\t\t\x3ch3\x3eWhat type of activity would you like to assign?\x3c/h3\x3e\n\t\t\t\t\t\x3cdiv class\x3d"value" \x3e\n\t\t\t\t\t\t\x3clabel class\x3d"practice"\x3e\x3cinput type\x3d"radio" name\x3d"type" value\x3d"p"\x3e\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3cspan class\x3d"title"\x3ePractice\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"description "\x3eAn adaptive activity where students answer a few questions on each word in this list.\n\t\t\t\t\t\tIf a student struggles with a word, we follow-up with additional questions.\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"onlinequiz"\x3e\x3cinput type\x3d"radio" name\x3d"type" value\x3d"q"\x3e\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3cspan class\x3d"title"\x3eQuiz\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"description "\x3eQuiz your students on this list. Easily customize your quiz by choosing specific words, question-types, and meanings to include.\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"spelling"\x3e\x3cinput type\x3d"radio" name\x3d"type" value\x3d"s"\x3e\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3cspan class\x3d"title"\x3eSpelling Bee\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"description "\x3eStudents are required to spell every word on the list.  If they get a word wrong, we follow up until they learn the spelling.\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"vocabjam"\x3e\x3cinput type\x3d"radio" name\x3d"type" value\x3d"j"\x3e\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3cspan class\x3d"title"\x3eVocabulary Jam\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"description "\x3eStudents join teams and compete in real-time to see which team can answer the most questions correctly.\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\x3c/form\x3e\n\t\t\t\x3c/div\x3e').appendTo(a);
a.on("slide-show",function(){var b=modules.params.parse().type;b&&b.length&&a.find("input[type\x3dradio][value\x3d"+b+"]").prop("checked",!0).trigger("change")}).on("change",function(){var b=a.find("input[type\x3dradio]:checked").val();b&&(k.data("activity-type",b),k.find(".slide.create-account").length?w(".slide.create-account"):h?w():w(".slide.quiz-options"))});return a}function c(){function a(a){if(a.is(".open"))a.find(".button.assign").text("Close");else if(a.is(".assigned")){var b=a.data("assignments");
a.find(".button.assign").text("Edit "+b.assignments.length+"/"+b.classes.length)}else a.find(".button.assign").text("Assign")}var b=n('\x3cdiv class\x3d"slide ondeck" data-name\x3d"listselector"\x3e\x3c/div\x3e').appendTo(v);n("\x3ch3\x3eSelect the Lists you would like to assign \x3cspan\x3e\x3c/span\x3e to:\x3c/h3\x3e").appendTo(b);var h=n('\x3cdiv class\x3d"items"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e').appendTo(b).find("ul");b.on("click","*[data-action\x3dopen]",function(){a(n(this).closest("li").toggleClass("open"));
return!1});b.on("slide-show",function(){var e=y[k.data("activityType")];b.find("h3 span").text(e.article+e.name);var g=l();"j"==e.code?g.then(function(a){a=a.lists;h.empty().append(a.map(function(a){return n('\x3cli\x3e\x3cdiv class\x3d"row" \x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"details"\x3e\x3cdiv class\x3d"header"\x3e\x3c/div\x3e\x3ca class\x3d"title" \x3e\x3c/a\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"actions"\x3e\x3ca role\x3d"button" class\x3d"button jam"\x3eStart\x3cspan class\x3d"hide-mobile"\x3e a Jam\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\x3c/li\x3e').attr("data-list-id",
a.id).find("a").attr("href","/lists/"+a.id+"/jam").end().find(".header").text(a.word_count+" Words ").end().find(".title").text(a.name||a.title).end()}))}):(g=l(),g.then(function(b){b=b.lists;h.empty().append(b.map(function(b){var e=n('\x3cli\x3e\x3cdiv class\x3d"row" data-action\x3d"open" \x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"details"\x3e\x3cdiv class\x3d"header"\x3e\x3c/div\x3e\x3ca data-action\x3d"open" class\x3d"title" \x3e\x3c/a\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"actions"\x3e\x3cdiv class\x3d"button outline assign" role\x3d"button" data-action\x3d"open" \x3eAssign\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\x3c/li\x3e').attr("data-list-id",
b.id).find(".header").text(b.word_count+" Words ").end().find(".title").text(b.name||b.title).attr("href",b.html_url).end();b=f(b.id,g.then(d.bind(this,b.id)));n('\x3cdiv class\x3d"wrapper"\x3e\x3c/div\x3e').appendTo(e).append(b);e.on("data-loaded",function(){a(e)}).on("assignment-created",function(b){e.removeClass("open");a(e);var g=e.nextAll("li.available").first();if(g.length){var h=g.find(".assignment-options").data("assignmentOptions");h&&(b=b.assignment,h.options({classids:b.classids,startDate:E(b.startDate,
7),dueDate:E(b.dueDate,7)}));g.find(".button.assign").trigger("click");g.doTimeout("scroll",500,function(){g.scrollIntoView();g.find("button[type\x3dsubmit]").focus()})}});return e}));setTimeout(function(){var a=h.children("li:not(.assigned)").first();a.length||(a=h.children("li.available").first());a.find(".row .button.assign").trigger("click");a.scrollIntoView()},1E3)}))});n('\x3cdiv class\x3d"actions"\x3e\n\t\t\t\t\t\x3ca href\x3d"/lists/'+A+"/"+C+'" class\x3d"button ss-navigateleft"\x3ePrevious\x3c/button\x3e\n\t\t\t\t\x3c/div\x3e').appendTo(b);
return b}function f(a,b){function e(){p(a).then(g).then(function(a){m.trigger("data-loaded")})}function h(a,b){return n.post("/lists/removeassignment.json",{classids:b,assignmentid:a}).done(function(){m.trigger("assignment-deleted");e()}).fail(function(a){403===a.status&&(location.href="/account/classes")})}function g(a){var b=m.find(".existing-assignments ul.assignments").empty();a.assignments.length?(m.find(".existing-assignments").show(),b.append(a.assignments.map(B))):m.find(".existing-assignments").hide();
a.availableClasses.length?m.find("ul.classes.available").removeClass("noresults").empty().append(a.availableClasses.map(function(a){return n("\x3cli \x3e\x3clabel\x3e\x3c/label\x3e\x3c/li\x3e").data(a).find("label").append(n('\x3cinput type\x3d"checkbox" name\x3d"classids" /\x3e').val(a.id)).append('\x3ci class\x3d"icon ss-check checkbox" /\x3e').append(n('\x3cdiv class\x3d"name"/\x3e').text(a.n)).append(n('\x3cdiv class\x3d"dates"/\x3e').text(z(a.sdy).format("mmmm d")+" - "+z(a.edy).format("mmmm d"))).end()})):
a.assignments.length?m.find("ul.classes.available").addClass("noresults").empty().append('\x3cspan class\x3d"noresults"\x3eYou\'ve assigned this list to all your classes.'):m.find("ul.classes.available").addClass("noresults").empty().append('\x3cspan class\x3d"noresults"\x3e\n\t\t\t\t\t\t\t\tYou must create a create a class to assign this list.\n\t\t\t\t\t\t\t\t\x3cbr\x3e\x3ca class\x3d"button green" href\x3d"/account/classes/new" \x3eCreate a new class...\x3c/a\x3e\x3c/span\x3e');m.closest("li").data("assignments",
a).toggleClass("assigned",!!a.assignments.length).toggleClass("available",!!a.availableClasses.length);return a}function I(){var a=m[0];a.startdate.value=x.getFromTimeInMilli();a.duedate.value=x.getToTimeInMilli();a=q(a);"string"===typeof a.classids&&(a.classids=[a.classids]);var b=m.find('input[name\x3d"includeSpelling"]');b.length&&(a.includeSpelling=b.prop("checked"));return a}var x={},m=n('\x3cform class\x3d"assignment-options"\x3e\n\t\t\t\x3cdiv class\x3d"grid grid-2 flex responsive"\x3e\n\t\t\t\t\x3cdiv class\x3d"col"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"available-classes"\x3e\n\t\t\t\t\t  \x3ch4\x3eSelect the classes to assign this to:\x3c/h4\x3e\n\t\t\t\t\t  \x3cul class\x3d"checklist classes available"\x3e\x3c/ul\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"existing-assignments"\x3e\n\t\t\t\t\t  \x3ch4\x3eExisting Assignments:\x3c/h4\x3e\n\t\t\t\t\t  \x3cul class\x3d"assignments"\x3e\x3c/ul\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"col"\x3e\n\t\t\t\x3ch4\x3eAssignment Details:\x3c/h4\x3e\n\t\t\t\x3cdiv class\x3d"input-daterange field"\x3e\n\t\t\t\t\x3cdiv class\x3d"dates start field"\x3e\n\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"startdate" value\x3d""/\x3e\n\t\t\t\t\x3cdiv class\x3d"value box-visible-starting"\x3e\n\t\t\t\t\t\x3cspan class\x3d"label"\x3eVisible \x3cspan class\x3d"hide-mobile"\x3estarting\x3c/span\x3e: \x3c/span\x3e\n\t\t\t\t\t\x3cinput class\x3d"date" type\x3d"date" required\x3d"required" value\x3d"" /\x3e\n\t\t\t\t \t\x26nbsp;at\x26nbsp;\n\t\t\t\t    \x3cinput class\x3d"time" type\x3d"time" required\x3d"required" value\x3d"07:00" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"dates end field"\x3e\n\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"duedate" value\x3d""/\x3e\n\t\t\t\t\x3cdiv class\x3d"value box-due-by"\x3e\n\t\t\t\t\t\x3cspan class\x3d"label"\x3eDue by: \x3c/span\x3e\n\t\t\t\t\t\x3cinput class\x3d"date" type\x3d"date" required\x3d"required" /\x3e\n\t\t\t\t \t\x26nbsp;at\x26nbsp;\n\t\t\t\t\t\x3cinput class\x3d"time" type\x3d"time" required\x3d"required" value\x3d"22:00" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"notes"\x3eDue dates are for informational purposes only.  You can decide what to do if a student completes this assignment late.\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"field notes"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"value"\x3e\x3cspan class\x3d"label"\x3eNotes:\x3c/span\x3e\x3ctextarea name\x3d"notes" placeholder\x3d"directions to students (optional)"\x3e\x3c/textarea\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cinput type\x3d"hidden" name\x3d"type" \x3e\x3cinput type\x3d"hidden" name\x3d"listid" \x3e\n\t\t\t\x3cdiv class\x3d"actions"\x3e\x3cbutton class\x3d"green" disabled\x3d"disabled" type\x3d"submit"\x3eSave Assignment\x3c/button\x3e\x3c/div\x3e\n\t\t\t\x3c/form\x3e'),
v=new Date,c=k.data("activityType");m.find("input[name\x3dtype]").val(c);m.find("input[name\x3dlistid]").val(a);var r=m.find(".dates.start input.date").val(v.format("yyyy-mm-dd")),f=m.find(".dates.start input.time"),l=m.find(".box-visible-starting");v=m.find(".dates.end input.date").val(E(v,6).format("yyyy-mm-dd"));var K=m.find(".dates.end input.time"),u=m.find(".box-due-by");"q"==c?m.find("button[type\x3dsubmit]").text("Create Quiz"):"j"==c?m.find("button[type\x3dsubmit]").text("Create Jam"):"p"==
c&&m.find(".field.notes").before('\x3cdiv class\x3d"field options"\x3e\n\t\t\t\t\t\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"includeSpelling" value\x3d"true" checked\x3d"checked"/\x3e Add spelling questions to this assignment\x3c/label\x3e\n\t\t\t\t\t\x3cdiv class\x3d"notes"\x3eYour students will hear each word pronounced, and then spell the word correctly\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e');m.data("assignmentOptions",{options:function(a){if(arguments.length)a.dueDate&&(m.find(".dates.end input.date").val(a.dueDate.format("yyyy-mm-dd")),
m.find(".dates.end input.time").val(a.dueDate.format("HH:MM")),x.processValueChange()),a.startDate&&(m.find(".dates.start input.date").val(a.startDate.format("yyyy-mm-dd")),m.find(".dates.start input.time").val(a.startDate.format("HH:MM")),x.processValueChange()),a.classids&&(m.find("input[name\x3dclassids]").prop("checked",!1),a.classids.length&&a.classids.forEach(function(a){m.find("input[name\x3dclassids][value\x3d"+a+"]").prop("checked",!0)})),m.trigger("change");else return a=I(),{classids:a.classids,
startDate:new Date(a.startdate),dueDate:new Date(a.duedate)}}});m.on("click","ul.assignments *[data-action\x3ddelete]",function(){if(confirm("Are your sure you want to delete this assignment?")){var a=n(this).closest("li");h(a.data("id"),a.data("classid")).then(function(){a.slideUp(function(){a.remove()})})}});b.then(g).then(function(a){m.trigger("data-loaded")});m.on("change",function(){var a=I();m.find("button[type\x3dsubmit]").prop("disabled",!(a.classids&&a.classids.length))}).on("submit",function(){var b=
I(),e=x.getIsDataValid();if(b.classids&&b.classids.length){if(!e)return m.find(".dates.start input.date").trigger("focus"),alert('Please select valid date and time for "Visible starting" and "Due by".'),!1;if("q"==b.type||"w"==b.type)return n('\x3cinput type\x3d"hidden" name\x3d"name"\x3e').val(m.closest("li").find(".title").text()).appendTo(m),n('\x3cinput type\x3d"hidden" name\x3d"referer"\x3e').val(document.location).appendTo(m),this.method="get",this.action="/quiz/new",!0;if("j"==b.type)return this.method=
"get",this.action="/jam/new",!0;var h=m.find("button[type\x3dsubmit]").prop("disabled",!0);n.post("/lists/"+a+"/assign.json",b).done(function(e){e=d(a,e);g(e);h.prop("disabled",!1);m.trigger("change").trigger({type:"assignment-created",assignments:e,assignment:{classids:b.classids,startDate:new Date(b.startdate),dueDate:new Date(b.duedate)}})}).fail(function(a){403===a.status&&(location.href="/account/classes")})}return!1});x=new G({configFrom:{datePickerElement:r,timePickerElement:f,parentElement:l},
configTo:{datePickerElement:v,timePickerElement:K,parentElement:u}});return m}function p(a){return n.post("/lists/"+a+"/assignments.json").then(d.bind(this,a))}function B(a){var b=a.cl;return n('\x3cli\x3e\n\t\t\t\t\t\x3ca class\x3d"class"\x3e\x3cspan class\x3d"name"\x3e\x3c/span\x3e\x3cspan class\x3d"dates"\x3e\x3c/span\x3e\x3c/a\x3e\n\t\t\t\t\t\x3cdiv class\x3d"desc"\x3e\x3cspan class\x3d"type"\x3e\x3c/span\x3e\x3cspan class\x3d"name"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cdiv class\x3d"dates"\x3e\x3cspan class\x3d"startdate"\x3e\x3c/span\x3e\x3cspan class\x3d"duedate"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"actions"\x3e\x3ca class\x3d"icon ss-view" role\x3d"button" title\x3d"Preview Assignment"\x3e\x3c/a\x3e\x3ca class\x3d"icon ss-barchart" role\x3d"button" title\x3d"View Student progress"\x3e\x3c/a\x3e\x3ci class\x3d"icon ss-write" role\x3d"button" title\x3d"Edit this assignment"\x3e\x3c/i\x3e\x3ci class\x3d"icon ss-delete" data-action\x3d"delete" role\x3d"button" title\x3d"Delete this assignment"\x3e\x3c/i\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/li\x3e').data(a).addClass("type-"+
a.typ).find(".desc .type").text(y[a.typ].name).end().find(".desc .name").text(a.name||"").end().find(".desc .startdate").text("visible on "+(new Date(a.vis)).format("mmmm dS, h:MM tt")).end().find(".desc .duedate").text("due on "+(new Date(a.due)).format("mmmm dS, h:MM tt")).end().find("a.class").attr("href","/classes/"+b.id+"/").end().find("a.ss-view").attr("href",a.url).end().find("a.ss-barchart").attr("href","/account/classes/"+b.id+"?view\x3dassignments\x26assignment\x3d"+a.id).end().find("a.class .name").text(b.n).end().find("a.class .dates").text(z(b.sdy).format("mmmm d")+
" - "+z(b.edy).format("mmmm d")).end()}function d(a,b){b=n.extend({},b);b.byId={};b.classes.sort(function(a,b){return a.n<b.n?-1:a.n>b.n?1:0});b.classes.forEach(function(a){a.types={q:0,p:0,s:0,w:0};b.byId[a.id]=a});var e=k.data("activityType")||"p";b.assignments=(b.assignments||[]).filter(function(b){return b.wlid==a&&b.typ==e});b.assignments.forEach(function(a){var e=b.byId[a.classid];e.types[a.typ]++;a.cl=e});b.availableClasses=b.classes.filter(function(a){return 0==a.types[e]});return b}function z(a){return new Date(parseInt(a/
1E4),parseInt(a/100)%100-1,a%100)}function E(a,b){a=new Date(a.getTime());a.setDate(a.getDate()+b);return a}function q(a){return n(a).serializeArray().reduce(function(a,b){var e=b.name,g=a[e];b=b.value;null!=b&&0<b.length&&+b===+b&&(b=+b);null==g?a[e]=b:"function"==typeof g.push?g.push(b):a[e]=[g,b];return a},{})}var b=null,k=n(".assignment-picker").attr("data-mode","new"),r=k.data("teachertrialdays"),v=n('\x3cdiv class\x3d"pane new-assignment slidedeck clearfloat selected"\x3e\x3c/div\x3e').appendTo(k),
a=null,h;VCOM.auth(function(b){a=b;a.validUser?(u().appendTo(v),c().appendTo(v),(h=a.perms.createQuiz)||n('\x3cdiv class\x3d"slide quiz-options unpaid ondeck" data-name\x3d"quiz-options"\x3e\n\t\t\t\x3cdiv class\x3d"limited-width"\x3e\n\t\t\t\t\t\n\t\t\t\t\x3ch3 class\x3d"subhead-1" style\x3d"margin-bottom:0;"\x3eAssess with less stress\x3c/h3\x3e\t\n\t\t\t\t\x3ch4 class\x3d"subhead-2" style\x3d"margin-top:0;"\x3ePurchase a premium subscription to create assignments\x3c/h4\x3e\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"grid responsive"\x3e\n\t\t\t\t\x3cdiv class\x3d"col5 center pad2y"\x3e\n\t\t\t\t\x3ca class\x3d"button green" href\x3d"/membership/teachers/"\x3eGet Started Now\x3c/a\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"grid responsive"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"col7"\x3e\n\t\t\t\t\t\t\x3ch4 class\x3d"subhead-2" style\x3d"margin-bottom: 0;"\x3eGet the lowdown on your students\' improvement\x3c/h4\x3e\n\t\t\t\t\t\t\x3cp\x3e\n\t\t\t\t\t\tCreate custom quizzes for both pre- and post- assessment.  \n\t\t\t\t\t\t\x3c/p\x3e\x3cp\x3e\n\t\t\t\t\t\tStart from any vocabulary list — we\'ll suggest words and\n\t\t\t\t\t\tquestions for your quiz based on the past performance of your students.\n\t\t\t\t\t\t\x3c/p\x3e\x3cp\x3e\n\t\t\t\t\t\tEasily customize which words and meanings to\n\t\t\t\t\t\ttest — choose any question from our ever-expanding library of over 180,000 questions.\n\t\t\t\t\t\t\x3c/p\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"actions center pad2y"\x3e\n\t\t\t\t\t\t\x3ca href\x3d"/lists/'+
A+"/"+C+'" class\x3d"button ss-navigateleft"\x3eGo back\x3c/a\x3e\x3ca class\x3d"button blue" href\x3d"/membership/"\x3eLearn about our premium subscription\x3c/a\x3e\n\t\t\t\t\t\t\x3c/div\x3e\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"col4 margin1"\x3e\x3cimg src\x3d"/images/home/quiz-tools-array.png" style\x3d"transform: translateY(10%)" class\x3d"screenshots"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e').appendTo(v)):(u().appendTo(v),n('\x3cdiv class\x3d"slide create-account ondeck" data-name\x3d"create-account"\x3e\n\t\t\t\x3cdiv class\x3d"limited-width"\x3e\n\t\t\t\t\x3ch3 class\x3d"subhead-1"\x3eAssign this list to your students\x3c/h3\x3e\n\t\t\t\t\x3cdiv class\x3d"grid responsive"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"col7"\x3e\n\t\t\t\t\t\t\x3cp\x3eStart a free '+
(r?r+"-day ":"")+'teacher trial to engage your students in all \n\t\t\t\t\t\tof Vocabulary.com’s word learning activities. Set up fun Vocab Jams, \n\t\t\t\t\t\tcreate a quiz, and monitor each student’s progress.\x3c/p\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"actions"\x3e\x3ca class\x3d"button v3 green-3 with-arrow" href\x3d"/signup/teacher/?success\x3d/lists/'+A+"/"+C+'"\x3eStart your free teacher trial\x3c/a\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cp\x3e\x3ca href\x3d"/membership/" class\x3d"learn-more"\x3eLearn more\x3c/a\x3e about how Vocabulary.com supports educators across the country.\x3c/p\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"col4 margin1"\x3e\x3cimg src\x3d"/images/home/teacher-tools-array.png" class\x3d"screenshots"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e').appendTo(v));
v.find(".slide.selected").trigger("slide-show")});v.on("assignment-deleted assignment-created assignment-changed",function(){b=null})})});
Module.define("vcom/units/editor","jquery dotimeout vcom/api cropper pickr/pickr vcom/units/searcher date".split(" "),function(){function u(a){function b(b){var h={};h.related=a.related_units||[];b._context=h;h.subjects=e(b,["subject"],a);switch(b.type){case "subject":h.path=k(b,["subject"],a);break;case "publisher":h.path=k(b,["publisher"],a);break;case "collection":case "unit":case "work":h.path=k(b,["unit","collection","publisher"],a);h.authors=e(b,["author"],a);h.collections=e(b,["collection"],
a);h.publisher=k(b,["publisher"],a);break;case "author":h.collections=e(b,["collection"],a),h.publisher=k(b,["publisher"],a)}return b}function e(b,e){var g={},h=[];e=e.reduce(function(a,b){a[b]=!0;return a},{});a.related_units&&a.related_units.forEach(function(a){e[a.type]&&(g[a.id]=a)});b.parent_units&&b.parent_units.length&&b.parent_units.forEach(function(a){g[a]&&h.push(g[a])});return h}function k(b,e){var h={},k={},x=[];e=e.reduce(function(a,b){a[b]=!0;return a},{});a.related_units&&a.related_units.forEach(function(a){e[a.type]&&
(h[a.id]=a)});(function J(a){a&&(k[a.id]=!0,a.parent_units&&a.parent_units.forEach(function(a){!k[a]&&h[a]&&(x.push(h[a]),J(h[a]))}))})(b);x.reverse();return x}a.unit&&b(a.unit);a.related_units&&a.related_units.forEach(b);a.units&&a.units.forEach(b);return a}function y(){return A({unit:{}})}function A(a){function h(){q.empty();var a=r[g.type]||r.unit;a.assets&&q.append(a.assets.map(function(a){return F(g,a)}))}function e(){g.items&&E.find("ul.item-list").empty().append(g.items.map(function(a,e){return b("\x3cli\x3e\x3c/li\x3e").addClass(a.type).append(b('\x3cspan class\x3d"item-type"\x3e\x3c/span\x3e').text(G(a))).append(b('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(a.title)).append(p({field:"name",
label:"Short Name",required:!1},a)).append(B({field:"description",label:"Description",maxlength:1E3},a)).append('\x3cdiv class\x3d"actions"\x3e\x3cbutton class\x3d"ss-up"\x3e\x3c/button\x3e\x3cbutton class\x3d"ss-down"\x3e\x3c/button\x3e\x3cbutton class\x3d"ss-delete"\x3e\x3c/button\x3e\x3c/div\x3e').on("click",".ss-delete",function(){b(this).closest("li").remove();g.items.splice(g.items.indexOf(a),1)}).on("click",".ss-up",function(){var e=g.items.indexOf(a);if(0<e){var h=g.items[e-1];g.items[e-1]=
g.items[e];g.items[e]=h;e=b(this).closest("li");e.insertBefore(e.prev("li"))}}).on("click",".ss-down",function(){var e=g.items.indexOf(a);if(0<=e&&e<g.items.length-1){var h=g.items[e+1];g.items[e+1]=g.items[e];g.items[e]=h;e=b(this).closest("li");e.insertAfter(e.next("li"))}})}))}function k(a){g.items||(g.items=[]);a&&a.name?g.items.push({id:a.id,type:"list",title:a.name}):a&&a.title&&a.type&&g.items.push({id:a.id,type:a.type,title:a.title});e();u.data("refilter")()}function v(){return b.when.apply(b,
q.find(".asset").map(function(){return b(this).data("asset").commit()}).get())}var d=new b.Deferred,g=a.unit,H=b('\x3cdiv class\x3d"dialog unit-editor"\x3e\n\t\t\t\t\x3cdiv class\x3d"blocker"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"content"\x3e\n\t\t\t\t\x3cheader\x3e\x3ch3\x3e\x3cspan class\x3d"unit-action"\x3eEdit\x3c/span\x3e \x3cspan class\x3d"unit-type-name"\x3eUnit\x3c/span\x3e\x3c/h3\x3e\x3c/header\x3e\n\t\t\t\t\x3cform action\x3d"javascript:void(0)"\x3e\n\t\t\t\t\t\n\t\t\t\t\x3c/form\x3e\n\t\t\t\t\x3cfooter\x3e\x3cdiv class\x3d"actions"\x3e\n\t\t\t\t\x3cbutton data-action\x3d"delete" class\x3d"red"\x3eDelete\x3c/button\x3e\x3cbutton data-action\x3d"cancel"\x3eCancel\x3c/button\x3e\x3cbutton data-action\x3d"save" class\x3d"green save"\x3eSave\x3c/button\x3e\n\t\t\t\t\x3c/div\x3e\x3c/footer\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e').appendTo("body"),
x=H.find("form");x.append(p({field:"title",label:"Title / Name",required:!0},g)).append(p({field:"subtitle",label:"Subtitle"},g)).append(p({field:"source_url",label:"Source URL"},g)).append(w(p({field:"isbn",label:"ISBN"},g),p({field:"asin",label:"ASIN"},g))).append(w(f({field:"featured_at",label:"Feature On"},g),f({field:"featured_end_at",label:"End Feature On"},g),c({field:"promoted",label:"Promoted"},g),c({field:"hidden",label:"Hidden"},g))).append(p({field:"publish_year",label:"Year Published",
type:"int",pattern:"[0-9]{4}",maxlength:4,length:4},g)).append(B({field:"short_description",label:"Description",maxlength:1E3},g)).append(B({field:"description",label:"Long Description",maxlength:5E3},g)).append(p({field:"keywords",label:"Keywords",maxlength:1E3},g)).append(n(g));g.id?(H.find(".unit-type-name").text(G(g)),x.attr("data-type",g.type)):(g.type="unit",H.find(".unit-action").text("New"),H.addClass("new"));x.prepend(D({field:"type",label:"Unit Type",options:[{text:"Unit",value:"unit"},
{text:"Author",value:"author"},{text:"Work",value:"work"},{text:"Subject",value:"subject"},{text:"Publisher",value:"publisher"},{text:"Collection",value:"collection"}]},g));x.find('*[data-field-name\x3d"type"] select').on("blur",function(){x.attr("data-type",g.type);h()});var m=b('\x3cdiv class\x3d"field"\x3e\x3clabel\x3eParent\x3c/label\x3e\x3cul class\x3d"tageditor"\x3e\x3c/ul\x3e\x3c/div\x3e'),l=m.find(".tageditor");C(l,{unit:g,tags:a.related_units,single:!0,types:["collection","unit","publisher"]});
l=b('\x3cdiv class\x3d"field"\x3e\x3clabel\x3eTags\x3c/label\x3e\x3cul class\x3d"tageditor"\x3e\x3c/ul\x3e\x3c/div\x3e');var z=l.find(".tageditor");C(z,{unit:g,tags:a.related_units,types:["subject","author"]});w(m,l).appendTo(x);p({field:"num_displayed_authors",label:"Number of Authors to Display",type:"int"},g).appendTo(x);var q=b('\x3cdiv class\x3d"assets"\x3e\x3c/div\x3e').appendTo(x);h();var E=b('\x3csection class\x3d"items"\x3e\x3ch4\x3eLists \x26 Sub-Units\x3c/h4\x3e\n\t\t\t\t\x3cdiv class\x3d"add-row"\x3e\x3clabel\x3eAdd:\x3c/label\x3e\x3cdiv class\x3d"searcher"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cul class\x3d"item-list"\x3e\x3c/ul\x3e\x3c/section\x3e').appendTo(x),
u=modules.vcom.units.searcher.Searcher({unit:g});E.find(".searcher").append(u).end().find(".add-row").on("select",function(a){k(a.list||a.unit)}).append('\x3cbutton data-action\x3d"new-unit"\x3eNew Unit\x3c/button\x3e');e();H.on("click",'*[data-action\x3d"new-unit"]',function(){y().then(function(a){VCOM.recentUnits(a.id);k(a)})});H.on("click",'*[data-action\x3d"delete"]',function(){confirm("Are you sure you want to delete this unit?")&&modules.vcom.api.remote("/units/"+g.id,{method:"DELETE"}).then(function(a){d.resolveWith(a,
!0)}).fail(function(a){d.reject(a)})});H.on("click",'*[data-action\x3d"cancel"]',function(){d.reject()}).on("click",'*[data-action\x3d"save"]',function(){var a=b.extend({},g);delete a._context;g.id?modules.vcom.api.remote("/units/"+g.id,{method:"PUT",data:{unit:a}}).then(function(a){v().then(function(){d.resolveWith(a,[a.unit])}).fail(function(a){d.reject(a)})}).fail(function(a){d.reject(a)}):modules.vcom.api.remote("/units/",{method:"POST",type:"json",data:{unit:a}}).then(function(a){g.id=a.unit.id;
v().then(function(){d.resolveWith(a,[a.unit])}).fail(function(a){d.reject(a)})}).fail(function(a){d.reject(a)})});d.always(function(){H.remove()});return d}function C(a,h){function e(a){return b('\x3cli class\x3d"tag"\x3e\x3cspan class\x3d"item-type"\x3e\x3c/span\x3e\x3cspan class\x3d"label"\x3e\x3c/span\x3e\x3cdiv role\x3d"button" class\x3d"delete ss-delete"\x3e\x3c/div\x3e\x3c/li\x3e').find(".item-type").text(G(a)).end().find(".label").text(a.full_title).end().addClass(a.type).data(a)}function k(){function k(){r.show();
var b=a.offset();b.top+=a.outerHeight();r.offset(b);return r}function x(a){var b=a.data("id");a=e(a.data());h.unit.parent_units||(h.unit.parent_units=[]);h.unit.parent_units.push(b);a.insertBefore(I.closest("li"));I.val("").focus()}function m(){I.closest("li").remove();r.remove();c=!1}c=!0;var d=a.closest("form"),r=b('\x3cul class\x3d"unit-editor-tag-autocomplete results units"\x3e\x3c/ul\x3e').appendTo(d).hide(),f="",I=b('\x3cli class\x3d"input"\x3e\x3cinput type\x3d"text"\x3e\x3c/input\x3e\x3c/li\x3e').appendTo(a).find("input").focus().on("blur",
function(){a.doTimeout("stopEditing",250,m)}).on("focus",function(){a.doTimeout("stopEditing")}).on("keyup",function(){var a=this;0<a.value.length?r.doTimeout("fetch",150,function(){a.value!=f&&(f=a.value,q.remote("/units/",{method:"GET",cache:"default",data:{q:f,type:h.types,include:"related_units"}}).then(function(a){u(a);a.units&&a.units.length?(r.empty().append(a.units.filter(function(a){return null==g[a.id]}).map(e)).show(),r.find("li").first().addClass("selected"),k()):r.hide()}))}):r.hide().doTimeout("fetch")}).on("keydown",
function(a){var b=a.keyCode?a.keyCode:a.which;if(40==b)return a.preventDefault(),r.find("li.selected").removeClass("selected").next("li").addClass("selected").length||r.find("li").eq(0).addClass("selected"),v(r.find("li.selected")),!1;if(38==b)return a.preventDefault(),r.find("li.selected").removeClass("selected").prev("li").addClass("selected").length||r.find("li").last().addClass("selected"),v(r.find("li.selected")),!1;if(13==b)return x(r.find("li.selected")),!1;if(27==b)return m(),!1});r.on("click",
"li",function(){x(b(this))})}function v(a){if(a.length){var b=a.closest("ul"),e=b.offset().top,h=e+b.outerHeight(),g=a.offset().top;a=g+a.outerHeight();g<e?b.scrollTop(b.scrollTop()+(g-e)):a>h&&b.scrollTop(b.scrollTop()+(a-h));return!0}}h.types&&h.types.length||(h.types=["subject","author"]);var c=!1,g=h.tags?h.tags.reduce(function(a,b){a[b.id]=b;return a},{}):{};a.on("click",function(e){b(e.target).is("button,*[role\x3dbutton]")||(c?(a.doTimeout("stopEditing"),a.find("input").focus()):k())}).on("click",
"li.tag .delete",function(){var a=b(this).closest("li");if(a&&a.length){var e=h.unit.parent_units.indexOf(a.data("id"));-1<e&&h.unit.parent_units.splice(e,1);a.remove()}return!1}).append(function(a){return a.unit.parent_units&&a.unit.parent_units.length?a.unit.parent_units.map(function(a){return g[a]}).filter(function(b){return null!=b&&-1!=a.types.indexOf(b.type)}).map(e):[]}(h))}function F(a,h){function e(){d.hasClass("editing")||d.addClass("editing").find(".preview img").cropper({viewMode:3,aspectRatio:1,
autoCropArea:1,scalable:!1,zoomable:!1,autoCrop:!1,ready:function(){var a=this.cropper.getContainerData();a=Math.min(a.width,a.height);this.cropper.crop();this.cropper.setCropBoxData({top:0,left:0,width:a,height:a})}})}function k(){d.hasClass("editing")&&(img=d.find(".preview img")[0],img.cropper&&(img.cropper.destroy(),delete img.cropper),b(img).data("cropper",null),d.removeClass("editing"))}function r(){var a=d.find(".preview img")[0],b=a.cropper.getCroppedCanvas({imageSmoothingQuality:"high"});
a.cropper.destroy();a.src=b.toDataURL("image/jpeg",1);b.toBlob(function(a){g.file=a;g.action="upload";g.filename=h.id+".jpg"},"image/jpeg",1);k()}function c(a){if(!a||!a.type)return!1;g.filename=h.id;if("image/jpeg"==a.type)g.filename+=".jpg";else if("image/png"==a.type)g.filename+=".png";else if(a.type.startsWith("image/svg"))g.filename+=".svg";else return!1;g.file=a;g.action="upload";if(a.type.startsWith("image/")){var b=new FileReader;b.onload=function(a){d.addClass("with-preview").find(".preview img").attr("src",
a.target.result)};b.readAsDataURL(a)}}var g={},d=b('\x3cdiv class\x3d"asset"\x3e\x3cbutton class\x3d"ss-delete"\x3e\x3c/button\x3e\x3ch4\x3e\x3c/h4\x3e\x3clabel\x3e\x3cspan\x3e\x3cstrong\x3eChoose a file\x3c/strong\x3e or drag one here.\x3c/span\x3e\n\t\t    \t\t\x3cinput type\x3d"file"\x3e\x3c/label\x3e\x3cdiv class\x3d"preview"\x3e\x3cimg \x3e\x3c/div\x3e\n\t\t    \t\t\x3cdiv class\x3d"controls"\x3e\n\t\t    \t\t\x3cbutton class\x3d"ss-write" data-action\x3d"cancel-edit-asset" \x3eCancel\x3c/button\x3e\n\t\t    \t\t\x3cbutton class\x3d"ss-write" data-action\x3d"edit-asset" \x3eEdit\x3c/button\x3e\n\t\t    \t\t\x3cbutton class\x3d"ss-crop" data-action\x3d"crop-asset" \x3eCrop\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
d.data("asset",{commit:function(){var e=b.Deferred();a.id||e.reject({message:"No unit id"});"delete"==g.action?modules.vcom.api.remote("/units/"+a.id+"/assets/"+g.asset.name,{method:"DELETE"}).then(function(a){e.resolve({action:"delete"})}).fail(function(a){e.reject(a)}):"upload"==g.action&&g.file&&g.filename?modules.vcom.api.remote("/units/"+a.id+"/assets",{method:"POST",type:"json",data:{asset:{name:g.filename,content_type:g.file.type}}}).then(function(b){fetch(b.upload_url,{method:"PUT",headers:{"Content-Type":g.file.type,
"Content-Length":g.file.size},body:g.file}).then(function(b){e.resolve({action:"upload",url:v+a.id+"/"+g.filename})})["catch"](function(a){e.reject(a)})}):e.resolve({action:"none"});return e}}).on("drag dragstart dragend dragover dragenter dragleave drop",function(a){a.preventDefault();a.stopPropagation()}).on("dragover dragenter",function(){d.addClass("is-dragover")}).on("dragleave dragend drop",function(){d.removeClass("is-dragover")}).on("drop",function(a){(a=a.originalEvent.dataTransfer.files)&&
a.length&&c(a[0])});d.find("button.ss-delete").on("click",function(){d.removeClass("with-preview").find(".preview img").attr("src",null);g.asset&&(g.action="delete");delete g.file});d.find("h4").text(h.name);d.find("input").on("change",function(a){c(a.target.files[0])});a.assets&&(a.assets.forEach(function(a){var b=a.name.lastIndexOf(".");-1<b&&a.name.substring(0,b)==h.id&&(g.asset=a)}),g.asset&&(d.addClass("with-preview").find(".preview img").attr("src",v+a.id+"/"+g.asset.name),d.on("click",'*[data-action\x3d"cancel-edit-asset"]',
k),d.on("click",'*[data-action\x3d"edit-asset"]',e),d.on("click",'button[data-action\x3d"crop-asset"]',r)));return d}function G(a){switch(a.type){case "work":return"Work";case "author":return"Author";case "publisher":return"Publisher";case "collection":return"Collection";case "subject":return"Subject";case "list":return"List";default:return"Unit"}}function n(a){var h=b('\x3cdiv class\x3d"group styles"\x3e\x3cdiv class\x3d"field text"\x3e\x3clabel\x3eStyle\x3c/label\x3e\x3cselect\x3e\n\t\t\t\t\x3coption value\x3d""\x3eDefault\x3c/option\x3e\n\t\t\t\t\x3coption value\x3d"feature"\x3eFeature: Standard\x3c/option\x3e\n\t\t\t\t\x3coption value\x3d"items-right"\x3eFeature: Items Right\x3c/option\x3e\n\t\t\t\t\x3coption value\x3d"items-hidden"\x3eFeature: No Items\x3c/option\x3e\n\t\t\t\t\x3coption value\x3d"tribute"\x3eTribute\x3c/option\x3e\n\t\t\t\t\x3coption value\x3d"preap"\x3ePre-AP\x3c/option\x3e\n\t\t\t\t\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e'),
e=a.style||{},k=b("\x3cdiv\x3e\x3c/div\x3e").append(w(l({field:"color",label:"Text Color"},e),l({field:"background_color",label:"Background Color"},e))),d=h.find("select");a.style&&a.style.id&&d.val(a.style.id);d.on("change",function(){this.value.length?(e.id=this.value,a.style=e,k.show()):(a.style=null,k.hide())}).trigger("change");return w(h,k)}function l(a,h){a.resetValue=h[a.field];var e=b('\x3cdiv class\x3d"field color"\x3e\x3clabel\x3e\x3c/label\x3e\x3cspan class\x3d"swatch"\x3e\x3c/span\x3e\x3c/div\x3e').find("label").html(a.label).end(),
k=Pickr.create({el:e.find(".swatch")[0],theme:"nano","default":null,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!0,hsva:!0,cmyk:!0,input:!0,clear:!0,save:!0}}});k.on("init",function(){h[a.field]&&h[a.field].length&&"#"==h[a.field].charAt(0)&&(a.field,k.setColor(h[a.field]))});k.on("save",function(b){b&&(h[a.field]=b.toHEXA().toString())});return e}function w(){return b('\x3cdiv class\x3d"group"\x3e\x3c/div\x3e').append(Array.prototype.slice.call(arguments))}function D(a,
h){a.resetValue=h[a.field];var e=b('\x3cdiv class\x3d"field text"\x3e\x3clabel\x3e\x3c/label\x3e\x3cselect\x3e\x3c/select\x3e\x3c/div\x3e').attr("data-field-name",a.field).find("label").html(a.label).end().find("select").attr(E(a,["required"])).append((a.options||[]).map(function(e){var h=b("\x3coption\x3e\x3c/option\x3e").text(e.text||e.value).attr("value",e.value);e.value==a.resetValue&&h.attr("selected",!0);return h})).on("blur",function(){var b=this.value;h[a.field]="int"==a.type?d(b):b}).on("reset",
function(){b(this).val(a.resetValue)}).end();if("int"==a.type)e.find("input").on("keypress",z);return e}function c(a,h){a.resetValue=h[a.field];return b('\x3cdiv class\x3d"field text"\x3e\x3clabel\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox"\x3e\x3c/div\x3e').attr("data-field-name",a.field).find("label").html(a.label).end().find("input").prop("checked",null!=a.resetValue&&a.resetValue||1==a["default"]?"checked":"").on("blur",function(){h[a.field]=this.checked}).on("reset",function(){b(this).val(a.resetValue)}).end()}
function f(a,h){a=void 0===a?{}:a;h=void 0===h?{}:h;var e=a,k=void 0===e.field?"":e.field,d=void 0===e.label?"":e.label,r=h[k]?(new Date(h[k])).format("yyyy-mm-dd",!0):"";e=b('\x3cdiv class\x3d"field date" data-field-name\x3d"'+k+'"\x3e\x3c/div\x3e');d=b("\x3clabel\x3e"+d+"\x3c/label\x3e");var g=b('\x3cinput name\x3d"'+k+'" type\x3d"date" /\x3e');g.attr(E(a,["placeholder","required"]));g.val(r);g.on("blur",function(){var a=new Date(this.value.trim());Date.isValidDate(a)&&(h[k]=a.toJSON())}).on("reset",
function(){b(this).prop("value",r)});e.append(d);e.append(g);return e}function p(a,h){a.resetValue=h[a.field];var e=b('\x3cdiv class\x3d"field text"\x3e\x3clabel\x3e\x3c/label\x3e\x3cinput type\x3d"text"\x3e\x3c/div\x3e').attr("data-field-name",a.field).find("label").html(a.label).end().find("input").attr(E(a,["placeholder","required","pattern","length","maxlength"])).prop("value",h[a.field]||"").on("blur",function(){var b=this.value.trim();h[a.field]="int"==a.type?d(b):b}).on("reset",function(){b(this).prop("value",
a.resetValue)}).end();if("int"==a.type)e.find("input").on("keypress",z);return e}function B(a,h){a.resetValue=h[a.field];return b('\x3cdiv class\x3d"field textarea"\x3e\x3clabel\x3e\x3c/label\x3e\x3ctextarea\x3e\x3c/textarea\x3e\x3c/div\x3e').attr("data-field-name",a.field).find("label").html(a.label).end().find("textarea").attr(E(a,"placeholder required pattern rows cols maxlength".split(" "))).val(h[a.field]||"").on("blur",function(){h[a.field]=this.value.trim();b(this).css("height","")}).on("reset",
function(){this.value=a.resetValue}).on("focus",function(){b(this).height(this.scrollHeight)}).end()}function d(a){if(null==a||!a.length)return null;a=parseInt(a);return isNaN(a)?null:a}function z(a){a=a.which?a.which:event.keyCode;return 31<a&&(48>a||57<a)?!1:!0}function E(a,b){return b.reduce(function(b,h){b[h]=a[h];return b},{})}var q=modules.vcom.api;this.editUnit=function(a){return modules.vcom.api.remote("/units/"+a).then(u).then(A)};this.newUnit=y;var b=jQuery,k=["image/jpeg","image/png","image/svg"],
r={work:{assets:[{id:"cover",name:"Cover Image",types:k}]},author:{assets:[{id:"author",name:"Author Image",types:k}]},publisher:{assets:[{id:"bg",name:"Background Image",types:k},{id:"feature",name:"Feature Image",types:k},{id:"logo",name:"Logo Image",types:k}]},collection:{assets:[{id:"bg",name:"Background Image",types:k},{id:"feature",name:"Feature Image",types:k},{id:"logo",name:"Logo Image",types:k},{id:"cover",name:"Cover Image",types:k}]},unit:{assets:[{id:"bg",name:"Background Image",types:k},
{id:"feature",name:"Feature Image",types:k},{id:"cover",name:"Cover Image",types:k}]}};(k=Module.getResource("/css/unit_editor.css"))&&!b('head link[src\x3d"'+k+'"]').length&&Module.loadCss(k);var v="https://com-vocab-unitassets.s3.amazonaws.com/units/"});
Module.define("vcom/units/explorer",["vcom/api","jquery","htmlformat","jquery.waypoints","dotimeout"],function(){function u(c,f){return c==f?0:null==c?-1:null==f?1:c<f?-1:c==f?0:1}function y(){l("li[data-list-id]:not(.open)").first().waypoint({handler:function(){F.call(this.element)},offset:"bottom-in-view"})}function A(c,f){c||(c=D);D=c;l(".word-explorer .wordlist").each(function(){C(l(this),c,f)})}function C(c,f,p){f||(f=D);var n=c.children("li").sort(w[f]),d=[];p&&n.each(function(){d.push(l(this).position())});
c.append(n.sort(w[f]).detach());p&&(c.addClass("static"),n.each(function(c){var f=l(this).position();f.left-=d[c].left;f.top-=d[c].top;l(this).css("transform","translate("+-f.left+"px,"+-f.top+"px)")}),c.removeClass("static").addClass("animated"),setTimeout(function(){n.css("transform","")},1),setTimeout(function(){c.removeClass("animated")},1E3))}function F(){var c=l(this);if(!c.is(".open"))return c.addClass("open"),modules.vcom.api.remote("/lists/"+c.data("list-id")).then(function(f){f=G(f.wordlist).appendTo(c.find(".wrapper"));
var p=f.outerHeight();f.css("max-height",0);f.doTimeout("max-height",1,"css","max-height",p);f.doTimeout("remove-max-height",1E3,"css","max-height","");"list"!=D&&C(f);setTimeout(y,500)})}function G(c){var f=l('\x3col class\x3d"wordlist"\x3e\x3c/ol\x3e');f.append(c.words.map(function(c,f){c.index=f;f=l("\x3cli\x3e\x3c/li\x3e").data(c).toggleClass("learnable",c.learnable).append(l('\x3ca class\x3d"word"\x3e\x3c/a\x3e').attr("href","/dictionary/"+escape(c.word)).text(c.word).append('\x3cspan class\x3d"comma"\x3e, \x3c/span\x3e')).append(l('\x3cdiv class\x3d"def"\x3e\x3c/div\x3e').text(c.sense.definition).addClass(c.sense.part_of_speech)).append(n(c.example));
c.description&&l('\x3cdiv class\x3d"description"\x3e\x3c/div\x3e').html(modules.htmlformat.format(c.description)).appendTo(f);return f}));return f}function n(c){var f=l('\x3cdiv class\x3d"example"/\x3e');if(null!=c)if(c.offsets.length){var p=[],n=c.text;c=c.offsets;for(var d=0,z=0;z<c.length;z+=2)p.push(n.substring(d,c[z])),p.push("\x3cstrong\x3e"),p.push(n.substring(c[z],c[z+1])),p.push("\x3c/strong\x3e"),d=c[z+1];p.push(n.substring(d));f.html(modules.htmlformat.format(p.join("")))}else f.html(modules.htmlformat.format(c.text));
return f}var l=jQuery;l(function(){l(".word-explorer li[data-list-id]").first().each(F);l(".word-explorer \x3e .actions a.view").on("click",function(){l(this).addClass("selected").siblings("a.view").removeClass("selected");var c=l(this).data("view");l(".word-explorer").attr("data-view",c);"words"==c&&l(".word-explorer li[data-list-id]").each(F)});l(".word-explorer \x3e .actions select").on("change",function(){A(this.value,!0)})});var w={list:function(c,f){c=l(c).data();f=l(f).data();return c.index-
f.index},az:function(c,f){c=l(c).data();f=l(f).data();return u(c.word,f.word)},za:function(c,f){c=l(c).data();f=l(f).data();return u(f.word,c.word)},easy:function(c,f){c=l(c).data();f=l(f).data();return u(f.frequency,c.frequency)},hard:function(c,f){c=l(c).data();f=l(f).data();return u(c.frequency,f.frequency)}},D="list"});
Module.define("vcom/units/searcher",["jquery","dotimeout","vcom/api"],function(){var u=jQuery;this.Searcher=function(y){function A(){var d=B.val().trim();if("lists"==p.data("mode")){var c=p.find("ul.results.lists").addClass("loading");2>d.length?l().then(function(d){c.empty().removeClass("loading").append(d.filter(y.listFilter).map(C))}):f.remote("/lists",{data:{q:d+"*",include:"profiles",limit:10}}).then(function(d){c.empty().removeClass("loading").append(d.wordlists.filter(y.listFilter).map(C))})}else c=
p.find("ul.results.units").addClass("loading"),2>d.length?n().then(function(d){c.empty().removeClass("loading").append(d.filter(y.unitFilter).map(F))}):f.remote("/units",{data:{q:d,limit:10,type:y.types}}).then(function(d){c.empty().removeClass("loading").append(d.units.filter(y.unitFilter).map(F))})}function C(d){return u('\x3cli class\x3d"tag"\x3e\x3cspan class\x3d"item-type"\x3eList\x3c/span\x3e\x3cspan class\x3d"title"\x3e\x3c/span\x3e\x3c/li\x3e').data(d).find(".title").text(d.name+" ("+d.id+
")").end()}function F(d){return u('\x3cli class\x3d"tag"\x3e\x3cspan class\x3d"item-type"\x3e\x3c/span\x3e\x3cspan class\x3d"title"\x3e\x3c/span\x3e\x3c/li\x3e').data(d).addClass(d.type).find(".item-type").text(G(d)).end().find(".title").text(d.title).end()}function G(d){switch(d.type){case "author":return"Author";case "work":return"Work";case "subject":return"Subject";case "publisher":return"Publisher";case "collection":return"Collection";default:return"Unit"}}function n(){if(null!=D)return D;var d=
u.Deferred(),c=VCOM.recentUnits().filter(function(c){return c!=w.id});c.length?f.remote("/units/",{data:{ids:c}}).then(function(f){var l=f.units.reduce(function(b,k){b[k.id]=k;return b},{});f=c.reduce(function(b,k){l[k]&&b.push(l[k]);return b},[]);d.resolve(f)}):d.resolve([]);return D=d}function l(){if(null!=c)return c;var d=u.Deferred(),l=VCOM.recentLists();l.length?f.remote("/lists/",{data:{ids:l,include:"profiles"}}).then(function(c){var f=c.wordlists.reduce(function(b,k){b[k.id]=k;return b},{});
c=l.reduce(function(b,k){f[k]&&b.push(f[k]);return b},[]);d.resolve(c)}):d.resolve([]);return c=d}var w=y.unit;y.unitFilter=y.unitFilter||function(c){return c.id==w.id||w.parent_units&&w.parent_units.find(function(d){return d==c.id})||w.items&&w.items.find(function(d){return d.id==c.id})?!1:!0};y.listFilter=y.listFilter||function(c){return w.items&&w.items.find(function(d){return d.id==c.id})?!1:!0};var D,c,f=modules.vcom.api,p=u('\x3cdiv class\x3d"list-unit-searcher"\x3e\n\t\t\x3cdiv class\x3d"input"\x3e\x3cdiv class\x3d"unit-or-list"\x3e\x3clabel\x3e\x3cinput type\x3dradio value\x3d"units"\x3e\x3cspan\x3eUnits\x3c/span\x3e\x3c/label\x3e\x3clabel\x3e\x3cinput type\x3d"radio" value\x3d"lists"\x3e\x3cspan\x3eLists\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3cinput type\x3d"text" placeholder\x3d"Search"\x3e\x3c/div\x3e\n\t\t\x3cul class\x3d"results lists"\x3e\x3c/ul\x3e\n\t\t\x3cul class\x3d"results units"\x3e\x3c/ul\x3e\n\t\t\x3c/div\x3e');
p.data("refilter",function(){p.find("ul.results.lists li").show().filter(function(){var c=u(this);return!y.listFilter(c.data())}).hide();p.find("ul.results.units li").show().filter(function(){var c=u(this);return!y.unitFilter(c.data())}).hide()});p.find("input[type\x3dradio][value\x3dunits]").prop("checked",!0);p.find("input[type\x3dradio]").change(function(){if(this.checked){p.find("input[type\x3dradio]").not(this).prop("checked",!1);var c=this.value;p.data("mode")!=c&&(p.attr("data-mode",c).data("mode",
c),A());B.focus()}});p.on("click",".results.lists li",function(){p.trigger({type:"select",list:u(this).data()});B.focus()}).on("click",".results.units li",function(){p.trigger({type:"select",unit:u(this).data()});B.focus()});var B=p.find("input[type\x3dtext]").on("keydown",function(){B.doTimeout("search",200,function(){A()})}).on("focus",function(){p.addClass("focused").doTimeout("focus")}).on("blur",function(){p.doTimeout("focus",250,"removeClass","focused")});A();return p}});
Module.define("vcom/units/viewer",["vcom/api","jquery","jquery.waypoints","date"],function(){function u(b){var k=q('\x3cli\x3e\x3cdiv class\x3d"info"\x3e\x3ca\x3e\x3cspan class\x3d"type"\x3e\x3c/span\x3e\x3cspan class\x3d"title"\x3e\x3c/span\x3e\x3cspan class\x3d"subtitle"\x3e\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"author"\x3e\x3c/span\x3e\x3cdiv class\x3d"description"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e');a:{var c=z[b.type]||z.collection;if("work"==b.type&&b.parent_units)for(var d=b.parent_units.length-
1;0<=d;d--){var a=E[b.parent_units[d]];if(a){c=a;break a}}}c.tag&&k.addClass(c.tag);k.find(".type").text(c.title);k.find(".title").text(b.full_title);k.find(".author").text(b.author?"By "+b.author:"");k.find(".subtitle").text(b.subtitle||"");k.find(".description").text(q("\x3cdiv\x3e\x3c/div\x3e").text((b.short_description||"").stripHTML().truncateNicely(100)).text());k.addClass("type_"+b.type);a:{if(b.assets)for(d=z[b.type]||z.collection,c=0;c<b.assets.length;c++)for(a=0;a<d.icon.length;a++)if(d.icon[a].test(b.assets[c].name)){d=
Math.floor((new Date(b.modified_at)).getTime()/1E3).toString(16);c=["https://cdn.vocab.com/units/"+b.id+"/"+b.assets[c].name+"?width\x3d170\x26v\x3d"+d,b.assets[c].name];break a}c=void 0}c&&(d=q('\x3ca class\x3d"icon"\x3e\x3cimg \x3e\x3c/a\x3e').attr("alt",b.title).find("img").attr("src",c[0]).end().prependTo(k),/^cover/.test(c[1])&&d.addClass("cover-icon"));b.style&&(b.style.id&&k.addClass("style-"+b.style.id),b.style.background_color&&k.find(".icon img").css("background-color",b.style.background_color));
k.append('\x3cdiv class\x3d"actions"\x3e\x3ca class\x3d"button learn"\x3eLearn\x3c/a\x3e\x3ca class\x3d"button assign"\x3eAssign\x3c/a\x3e\x3c/div\x3e');k.find("a").attr("href",b.html_url);k.find("a.assign").attr("href",b.html_url+"/assign");return k}function y(b,c){return VCOM.authCache.get().then(function(k){var d=b.reduce(function(a,b){a[b]=[];return a},{}),a=!0;k.classes&&k.classes.memberOf&&k.classes.memberOf.forEach(function(b){b.assignments&&b.assignments.forEach(function(e){null!=c&&e.type!=
c||!d[e.listid]||(e=q.extend({cl:b},e),e.dueDate=new Date(e.dueDate),d[e.listid].push(e),a=!1)})});d.empty=a;return d})}function A(b,c){var k={p:{},s:{}};b.forEach(function(b){for(t in k){var a=C(c,t,b);k[t][b]=a;if(a.activities.length||a.assignments.length)k[t].hasDetails=!0}});return q.extend({byType:k,lists:b},c)}function C(b,c,d){var k={};k.assignments=(b.assignments[d]||[]).filter(function(a){return a.type==c});k.activities=b.activities.filter(function(a){return a.activity_type==c&&a.list_id==
d});k.activities.sort(function(a,b){return a.progress||0<b.progress?-1:a.progress||0>b.progress?1:a.played_at<b.played_at?-1:a.played_at>b.played_at?1:0});b.mastery&&b.mastery.length&&(b=b.mastery.find(function(a){return a.list_id==d}))&&(k.mastery=b);return k}function F(b){var c=[];b.find("li[data-list-id]").each(function(){c.push(q(this).data("list-id"))});return c}function G(b,c,f){function k(a){return q('\x3cli\x3e\x3ca \x3e\x3cspan class\x3d"when"\x3e\x3c/span\x3e\x3ccanvas class\x3d"progress" width\x3d"80" height\x3d"80"\x3e\x3c/canvas\x3e\x3c/a\x3e\x3c/li\x3e').find("a").attr("href",
"/lists/"+a.list_id+"/"+c.prefix+"?aid\x3d"+a.id).end().find(".when").text(c.name+" "+(1==a.progress?"completed ":"played ")+l(new Date(a.played_at))).end().find("canvas").attr("data-progress",Math.floor(100*a.progress)).end()}"string"===typeof c&&(c=d[c]);c||(c=d.p);b.attr("data-mode",c.code);if(f.lists.length){var a=b.find("li[data-list-id]");a.find(".activity-history, .assignments, .actions").empty();a.removeClass("activity-complete on-deck");if("j"==c.code)a.addClass("on-deck").removeClass("started").each(function(){var a=
q(this).data("list-id");q(this).find(".actions").append('\x3ca role\x3d"button" href\x3d"/lists/'+a+'/jam" class\x3d"button outline" \x3eStart\x3cspan class\x3d"hide-mobile"\x3e '+c.shortName+"\x3c/span\x3e\x3c/a\x3e")}),b.removeClass("with-details");else{var h=f.byType[c.code]||{};b.toggleClass("with-details",!!h.hasDetails);a.each(function(){var a=q(this),b=a.data("list-id"),d=h[b];a.find(".actions");var f=a.find(".activity-history"),g=d&&d.activities||[],r=g[0];if(g.length){a.addClass("started");
f.append("\x3col\x3e\x3c/ol\x3e");var v=f.find("ol"),m=g.filter(function(a){return a!=r});m.length&&(m.sort(function(a,b){return a.played_at<b.played_at?1:a.played_at>b.played_at?-1:0}),q('\x3ca class\x3d"toggle" role\x3d"button"\x3ePlayed \x3cspan class\x3d"count"\x3e\x3c/span\x3e other times\x3c/a\x3e').find(".count").text(m.length.commaFormat()).end().appendTo(f).on("click",function(){m.splice(0,5).forEach(function(a){a=k(a).appendTo(v);VCOM.parse(a)});m.length?q(this).find(".count").text(m.length.commaFormat()):
q(this).remove()}));k(r).appendTo(v);1==r.progress?(a.addClass("activity-complete"),"p"==c.code&&(!d.mastery||1>d.mastery.progress)&&a.find(".actions").prepend('\x3cspan role\x3d"button" data-action\x3d"complete-mastery" class\x3d"button outline" \x3eFinish Mastery\x3c/span\x3e')):q('\x3ca class\x3d"button outline" \x3eResume\x3cspan class\x3d"hide-mobile"\x3e '+c.shortName+"\x3c/span\x3e\x3c/a\x3e").attr("href","/lists/"+b+"/"+c.prefix+(null==r?"":"?aid\x3d"+r.id)).appendTo(a.find(".actions"))}else a.removeClass("started"),
q('\x3ca class\x3d"button outline" \x3eStart\x3cspan class\x3d"hide-mobile"\x3e '+c.shortName+"\x3c/span\x3e\x3c/a\x3e").attr("href","/lists/"+b+"/"+c.prefix).appendTo(a.find(".actions"));d&&d.assignments.length&&a.find(".assignments").empty().append("\x3col\x3e\x3c/ol\x3e").find("ol").append(d.assignments.map(function(a){return q("\x3cli\x3e\x3c/li\x3e").toggleClass("overdue",!r||1>r.progress?a.dueDate<new Date:a.dueDate<new Date(r.last_played)).append(q('\x3cspan class\x3d"duedate"\x3eDue '+l(a.dueDate)+
"\x3c/span\x3e")).append(" for ").append(q("\x3ca\x3e\x3c/a\x3e").text(a.cl.name).attr("href","/classes/"+a.cl.id))}))});if("p"==c.code)a.on("click",'*[data-action\x3d"complete-mastery"]',function(){var a=q(this).closest("*[data-list-id]").data("list-id");document.location.href="/play/"+a;return!1})}VCOM.parse(a);a.filter(":not(.activity-complete)").first().addClass("on-deck")}}function n(b,c){B||(B=VCOM.authCache.get().then(function(d){return d.validUser?q.when(modules.vcom.api.remote("/progress/activities",
{data:{list_id:b,include:c?"mastery":null,limit:1E3}}),y(b)):q.when({activities:[]},{})}));return B.then(function(b,c){b.assignments=c;return b})}function l(b){"number"===typeof b&&(b=/(\d\d\d\d)(\d\d)(\d\d)/.exec(b),b=new Date(b[1],b[2]-1,b[3]));b="function"===typeof b.getTime?b:new Date(b);var d=(new Date).getTime();return(w(b,c)?"yesterday":w(b,f)?"tomorrow":w(b,D)?"today":b.getTime()>d&&b.getTime()-6048E5<d?b.format("dddd"):b.format(b.getFullYear()==p?"mmmm dS":"mmmm dS, yyyy"))+" at "+b.format("h:MM tt")}
function w(b,c){return b.getFullYear()==c.getFullYear()&&b.getMonth()==c.getMonth()&&b.getDate()==c.getDate()}var D=new Date,c=new Date,f=new Date,p=D.getFullYear();c.setDate(c.getDate()-1);f.setDate(f.getDate()+1);var B=null,d={p:{code:"p",name:"Practice",shortName:"Practice",prefix:"practice"},s:{code:"s",name:"Spelling Bee",shortName:"Bee",prefix:"bee"},j:{code:"j",name:"Vocabulary Jam",shortName:"a Jam",prefix:"jam"},q:{code:"q",name:"Quiz",shortName:"Quiz"}},z={work:{icon:[/^cover/],title:"Work"},
author:{icon:[/^author/],title:"Author"},collection:{icon:[/^feature/,/^cover/],title:"Collection"},unit:{icon:[/^feature/,/^cover/],title:"Collection"},publisher:{icon:[/^feature/],title:"Publisher"},subject:{icon:[/^feature/],title:"Subject"}},E={kecpw3dy:{title:"Test Prep",tag:"TST"},lnin7xdp:{title:"Morphology \x26 Roots",tag:"ROOTS"},gfpldfb3:{title:"Literature",tag:"LIT",url:"/lists/literature/"},igonyd6p:{title:"Non-Fiction",tag:"NON",url:"/lists/non-fiction/"},"5gi4cws6":{title:"Textbooks \x26 Curricula",
tag:"TXT",url:"/lists/textbooks-and-curricula/"},aoqd4lh6:{title:"Historical Documents",tag:"HIST",url:"/lists/historical-documents/"},z2pwznqw:{title:"Speeches",tag:"SPH",url:"/lists/speeches/"},alhahx3a:{title:"Just for Fun",tag:"FUN",url:"/lists/just-for-fun/"},hehvvpjm:{title:"News",tag:"NWS",url:"/lists/news/"}},q=jQuery;q.fn.unitList=function(){function b(){var a={limit:f.limit,skip:f.skip};f.taggedWithUnitid&&(a.tagged_with_unitid=f.taggedWithUnitid);f.query&&(a.q=f.query);f.sortBy&&(a.sort_by=
f.sortBy);f.sortDirection&&(a.sort_direction=f.sortDirection);return modules.vcom.api.remote("/units/",{data:a,type:"raw"}).then(function(a){var b=a.json;0==f.skip&&d.empty();d.removeClass("loading").append(b.units.map(u));d.trigger("dataLoaded",a);var h=parseInt(a.headers["x-total-count"]||-1);a=/rel="next"/.test(a.headers.link||"");h=-1==h?f.limit:h-(f.limit+f.skip);a?(f.autoload||q('\x3cbutton class\x3d"loadmore "\x3eShow \x3cspan class\x3d"count"\x3e'+h.commaFormat()+"\x3c/span\x3e more Collections\x3c/button\x3e").appendTo(d),
f.autoload&&0==f.skip&&c(),d.addClass("hasmore"),f.skip+=f.limit,12>f.limit&&(f.limit=12)):d.removeClass("hasmore");0==f.skip&&0==b.units.length&&q('\x3cdiv class\x3d"noresults"\x3eSorry, we didn\'t find any collections that match your search.\x3c/div\x3e').appendTo(d)})}function c(){var a=d.waypoint({offset:"bottom-in-view",handler:function(c){"down"==c&&d.hasClass("hasmore")&&(d.removeClass("hasmore").addClass("loading"),b().then(function(){a.context.refresh()}))}})[0]}var d=this,f=q.extend({limit:100,
skip:0},d.data());d.on("click","button.loadmore",function(){this.remove();d.addClass("loading");b()});b();return this};q.fn.activityPicker=function(){function b(a,b){if(b=a.byType[b])for(var d=0;d<a.lists.length;d++){var e=a.lists[d],f=b[e].activities[0];if(!f||0==f.progress)return{action:"Start",id:e,name:c(e),progress:0,index:d};if(f&&1>f.progress)return{action:"Resume",id:e,name:c(e),progress:f.progress,index:d}}else return e=a.lists[0],{action:"Start",id:e,name:c(e),progress:0,index:0}}function c(a){return f.find('li[data-list-id\x3d"'+
a+'"] .title').first().text()}var f=this,l=F(f),a=n(l,!f.data("listId")).then(A.bind(this,l));f.find(".activity-list li").on("click",function(){var b=q(this);b.is(".selected")||(b.siblings(".selected").removeClass("selected"),b.addClass("selected"),a.then(function(a){G(f,b.data("activity-type"),a)}))});a.then(function(a){G(f,"p",a);f.find(".activity-list li").each(function(){var c=q(this),h=c.data("activity-type"),k=c.find(".actions"),l=b(a,h);if("j"==h)k.append('\x3ca role\x3d"button" href\x3d"/lists/'+
a.lists[0]+'/jam" class\x3d"button outline"\x3eStart\x3cspan class\x3d"hide-mobile"\x3e a Jam\x3c/span\x3e\x3c/a\x3e'),k.append('\x3ca role\x3d"button" href\x3d"/jam" class\x3d"button outline"\x3eJoin \x3cspan class\x3d"hide-mobile"\x3e a Jam\x3c/span\x3e\x3c/a\x3e'),c.find(".upnext").append("\x3clabel\x3eStart:\x3c/label\x3e").append(q("\x3cspan\x3e\x3c/span\x3e").text(l.name));else if(l=b(a,h),null!=l){var g=d[h];0<l.progress?c.find(".upnext").append("\x3clabel\x3ePlaying:\x3c/label\x3e").append(q('\x3cspan class\x3d"name"\x3e\x3c/span\x3e').text(l.name)).append(q('\x3cspan class\x3d"progress"\x3e\x3c/span\x3e').text(Math.floor(100*
l.progress)+"%")):c.find(".upnext").append("\x3clabel\x3eNext:\x3c/label\x3e").append(q('\x3cspan class\x3d"name"\x3e\x3c/span\x3e').text(l.name));k.append('\x3ca role\x3d"button" href\x3d"/lists/'+l.id+"/"+g.prefix+'" class\x3d"button outline"\x3e'+l.action+' \x3cspan class\x3d"hide-mobile"\x3e '+g.shortName+"\x3c/span\x3e\x3c/a\x3e")}else c.find(".upnext").append("\x3clabel\x3eDetails\x3c/label\x3e");f.data("listId")&&(c.find(".upnext label").text("Details"),a.byType[h]&&a.byType[h].hasDetails||
c.addClass("empty"))})})}});